"use strict";const o=require("../../common/vendor.js"),n={components:{TabBar:()=>"../../components/TabBar.js"},onLoad:function(o){this.tab=o.tab},data:()=>({tab:"",token:""}),methods:{wxLogin(){var n=this;this.token||o.index.showModal({mask:!0,title:"温馨提示",content:"授权微信登录后才能正常使用",success(e){e.confirm?o.index.login({provider:"weixin",success:function(e){const t=e.code;console.log(t),o.index.request({url:"https://mock.apifox.cn/m1/2440038-0-default/user/login/",method:"GET",data:{code:t},success:function(e){o.index.setStorageSync("token",e.data.token),n.token=o.index.getStorageSync("token"),console.log(n.token)},fail:function(n){o.index.showToast({title:"登录失败",icon:"none"})}})},fail:function(n){o.index.showToast({title:"登录失败",icon:"none"})}}):e.cancel}}),console.log("login")}}};if(!Array){o.resolveComponent("tab-bar")()}const e=o._export_sfc(n,[["render",function(n,e,t,c,a,i){return{a:o.o(((...o)=>i.wxLogin&&i.wxLogin(...o))),b:o.p({activeTab:a.tab})}}],["__scopeId","data-v-ad48725c"]]);wx.createPage(e);
